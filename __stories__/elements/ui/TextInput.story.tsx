/* eslint-disable react/jsx-key */

import React, { useState } from 'react'
import { Story, Meta } from '@storybook/react'
import { action } from '@storybook/addon-actions'
import { TextInput, TextInputProps, Button } from '~ui'
import * as Icon from '~svg'

export default {
  title: 'UI/TextInput',
  component: TextInput,
  argTypes: {
    className: {
      name: 'Class',
      type: { name: 'string', required: false }
    },
    variant: {
      name: 'Variant',
      type: { name: 'string', required: false },
      control: { type: 'select', options: ['primary'] }
    },
    placeholder: {
      name: 'Placeholder',
      type: { name: 'string', required: false }
    },
    name: {
      name: 'Name',
      type: { name: 'string', required: false }
    },
    disabled: {
      name: 'Disabled',
      type: { name: 'boolean', required: false }
    },
    error: {
      name: 'Error message',
      type: { name: 'string', required: false }
    },
    onClick: { action: 'onClick' },
    onChange: { action: 'onChange' }
  },
  args: {
    className: '',
    variant: 'primary',
    placeholder: 'Placeholder',
    name: 'test',
    disabled: false,
    onChange: action('onChange')
  }
} as Meta

const TextInputTemplate: Story<Omit<TextInputProps, 'value'>> = args => {
  const { onChange: onChangeAction, ...otherArgs } = args
  const [value, onChange] = useState('')

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const value = e.currentTarget.value
    onChange(value)
    onChangeAction && onChangeAction(e)
  }

  return <TextInput value={value} onChange={handleChange} {...otherArgs} />
}

export const PrimaryStory = TextInputTemplate.bind({})
PrimaryStory.args = {}

export const LightStory = TextInputTemplate.bind({})
LightStory.args = {
  variant: 'light'
}

export const PrefixStory = TextInputTemplate.bind({})
PrefixStory.args = {
  prefix: <Icon.Search className={'w-16 h-16'} />
}

export const SuffixStory = TextInputTemplate.bind({})
SuffixStory.args = {
  suffixes: [
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M1.3335 7.99998C1.3335 11.6819 4.31826 14.6666 8.00016 14.6666C11.6821 14.6666 14.6668 11.6819 14.6668 7.99998C14.6668 4.31808 11.6821 1.33331 8.00016 1.33331C4.31826 1.33331 1.3335 4.31808 1.3335 7.99998ZM2.66683 7.99998C2.66683 5.05446 5.05464 2.66665 8.00016 2.66665C10.9457 2.66665 13.3335 5.05446 13.3335 7.99998C13.3335 10.9455 10.9457 13.3333 8.00016 13.3333C5.05464 13.3333 2.66683 10.9455 2.66683 7.99998ZM6.00016 8.66665C6.00016 8.29846 5.70169 7.99998 5.3335 7.99998C4.96531 7.99998 4.66683 8.29846 4.66683 8.66665C4.66683 10.5076 6.15921 12 8.00016 12C9.84111 12 11.3335 10.5076 11.3335 8.66665C11.3335 8.29846 11.035 7.99998 10.6668 7.99998C10.2986 7.99998 10.0002 8.29846 10.0002 8.66665C10.0002 9.77122 9.10473 10.6666 8.00016 10.6666C6.89559 10.6666 6.00016 9.77122 6.00016 8.66665ZM5.3335 6.66665C5.70169 6.66665 6.00016 6.36817 6.00016 5.99998C6.00016 6.36817 6.29864 6.66665 6.66683 6.66665C7.03502 6.66665 7.3335 6.36817 7.3335 5.99998C7.3335 5.2636 6.73654 4.66665 6.00016 4.66665C5.26378 4.66665 4.66683 5.2636 4.66683 5.99998C4.66683 6.36817 4.96531 6.66665 5.3335 6.66665ZM10.0002 5.99998C10.0002 6.36817 9.70169 6.66665 9.3335 6.66665C8.96531 6.66665 8.66683 6.36817 8.66683 5.99998C8.66683 5.2636 9.26378 4.66665 10.0002 4.66665C10.7365 4.66665 11.3335 5.2636 11.3335 5.99998C11.3335 6.36817 11.035 6.66665 10.6668 6.66665C10.2986 6.66665 10.0002 6.36817 10.0002 5.99998Z"
        fill="#67697C"
      />
    </svg>,
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M11.5492 3.27757C10.7414 2.46662 9.45056 2.46662 8.64272 3.27757L4.26896 7.66817C2.9788 8.9633 2.9788 11.0945 4.26896 12.3896C5.51876 13.6443 7.5158 13.6443 8.7656 12.3896L12.8944 8.24491C13.1514 7.98698 13.5633 7.99173 13.8146 8.25553C14.0658 8.51932 14.0612 8.94226 13.8042 9.20019L9.67539 13.3449C7.91986 15.1072 5.11471 15.1072 3.35917 13.3449C1.54694 11.5257 1.54694 8.5321 3.35917 6.71289L7.73293 2.32229C9.0465 1.00365 11.1454 1.00366 12.459 2.32229C13.815 3.68351 13.815 5.92347 12.459 7.28469L8.25159 11.5083C7.46837 12.2946 6.21687 12.2946 5.43365 11.5083C4.62513 10.6967 4.62513 9.36111 5.43365 8.54949L8.99041 4.97903C9.24735 4.7211 9.6593 4.72585 9.91054 4.98964C10.1618 5.25344 10.1571 5.67638 9.9002 5.93431L6.34344 9.50477C6.05699 9.79232 6.05699 10.2655 6.34344 10.553C6.62092 10.8316 7.06431 10.8316 7.3418 10.553L11.5492 6.32941C12.3832 5.49227 12.3832 4.11471 11.5492 3.27757Z"
        fill="#67697C"
      />
    </svg>,
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M13.9562 6.73431L3.35196 1.60296C2.65346 1.26441 1.81279 1.55621 1.47422 2.25471C1.30158 2.61088 1.28715 3.02332 1.43444 3.39072L3.09102 7.53073H14.6668C14.545 7.18148 14.2893 6.89498 13.9562 6.73431Z"
        fill="#67697C"
      />
      <path
        d="M3.09111 8.46777L1.43453 12.6087C1.14707 13.3317 1.50011 14.1508 2.22307 14.4383C2.38676 14.5034 2.56123 14.5372 2.73738 14.538C2.95023 14.538 3.16034 14.4899 3.35202 14.3974L13.9562 9.26419C14.2894 9.1035 14.5451 8.817 14.6669 8.46777H3.09111V8.46777Z"
        fill="#67697C"
      />
    </svg>
  ]
}

export const PrefixSuffixStory = TextInputTemplate.bind({})
PrefixSuffixStory.args = {
  prefix: <Icon.Search className={'w-16 h-16'} />,
  suffixes: [
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M1.3335 7.99998C1.3335 11.6819 4.31826 14.6666 8.00016 14.6666C11.6821 14.6666 14.6668 11.6819 14.6668 7.99998C14.6668 4.31808 11.6821 1.33331 8.00016 1.33331C4.31826 1.33331 1.3335 4.31808 1.3335 7.99998ZM2.66683 7.99998C2.66683 5.05446 5.05464 2.66665 8.00016 2.66665C10.9457 2.66665 13.3335 5.05446 13.3335 7.99998C13.3335 10.9455 10.9457 13.3333 8.00016 13.3333C5.05464 13.3333 2.66683 10.9455 2.66683 7.99998ZM6.00016 8.66665C6.00016 8.29846 5.70169 7.99998 5.3335 7.99998C4.96531 7.99998 4.66683 8.29846 4.66683 8.66665C4.66683 10.5076 6.15921 12 8.00016 12C9.84111 12 11.3335 10.5076 11.3335 8.66665C11.3335 8.29846 11.035 7.99998 10.6668 7.99998C10.2986 7.99998 10.0002 8.29846 10.0002 8.66665C10.0002 9.77122 9.10473 10.6666 8.00016 10.6666C6.89559 10.6666 6.00016 9.77122 6.00016 8.66665ZM5.3335 6.66665C5.70169 6.66665 6.00016 6.36817 6.00016 5.99998C6.00016 6.36817 6.29864 6.66665 6.66683 6.66665C7.03502 6.66665 7.3335 6.36817 7.3335 5.99998C7.3335 5.2636 6.73654 4.66665 6.00016 4.66665C5.26378 4.66665 4.66683 5.2636 4.66683 5.99998C4.66683 6.36817 4.96531 6.66665 5.3335 6.66665ZM10.0002 5.99998C10.0002 6.36817 9.70169 6.66665 9.3335 6.66665C8.96531 6.66665 8.66683 6.36817 8.66683 5.99998C8.66683 5.2636 9.26378 4.66665 10.0002 4.66665C10.7365 4.66665 11.3335 5.2636 11.3335 5.99998C11.3335 6.36817 11.035 6.66665 10.6668 6.66665C10.2986 6.66665 10.0002 6.36817 10.0002 5.99998Z"
        fill="#67697C"
      />
    </svg>,
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M11.5492 3.27757C10.7414 2.46662 9.45056 2.46662 8.64272 3.27757L4.26896 7.66817C2.9788 8.9633 2.9788 11.0945 4.26896 12.3896C5.51876 13.6443 7.5158 13.6443 8.7656 12.3896L12.8944 8.24491C13.1514 7.98698 13.5633 7.99173 13.8146 8.25553C14.0658 8.51932 14.0612 8.94226 13.8042 9.20019L9.67539 13.3449C7.91986 15.1072 5.11471 15.1072 3.35917 13.3449C1.54694 11.5257 1.54694 8.5321 3.35917 6.71289L7.73293 2.32229C9.0465 1.00365 11.1454 1.00366 12.459 2.32229C13.815 3.68351 13.815 5.92347 12.459 7.28469L8.25159 11.5083C7.46837 12.2946 6.21687 12.2946 5.43365 11.5083C4.62513 10.6967 4.62513 9.36111 5.43365 8.54949L8.99041 4.97903C9.24735 4.7211 9.6593 4.72585 9.91054 4.98964C10.1618 5.25344 10.1571 5.67638 9.9002 5.93431L6.34344 9.50477C6.05699 9.79232 6.05699 10.2655 6.34344 10.553C6.62092 10.8316 7.06431 10.8316 7.3418 10.553L11.5492 6.32941C12.3832 5.49227 12.3832 4.11471 11.5492 3.27757Z"
        fill="#67697C"
      />
    </svg>,
    <svg
      className={'fill-current hover:text-neutral-1'}
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M13.9562 6.73431L3.35196 1.60296C2.65346 1.26441 1.81279 1.55621 1.47422 2.25471C1.30158 2.61088 1.28715 3.02332 1.43444 3.39072L3.09102 7.53073H14.6668C14.545 7.18148 14.2893 6.89498 13.9562 6.73431Z"
        fill=""
      />
      <path
        d="M3.09111 8.46777L1.43453 12.6087C1.14707 13.3317 1.50011 14.1508 2.22307 14.4383C2.38676 14.5034 2.56123 14.5372 2.73738 14.538C2.95023 14.538 3.16034 14.4899 3.35202 14.3974L13.9562 9.26419C14.2894 9.1035 14.5451 8.817 14.6669 8.46777H3.09111V8.46777Z"
        fill=""
      />
    </svg>
  ]
}

export const ButtonStory = TextInputTemplate.bind({})
ButtonStory.args = {
  prefix: <Icon.Search className={'w-16 h-16'} />,
  suffixes: [
    <Button variant={'inline'} size={'sm'}>
      Send
    </Button>
  ]
}
